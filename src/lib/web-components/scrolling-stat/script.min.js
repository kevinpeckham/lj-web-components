class ScrollingStat extends HTMLElement{isOnScreen=!1;start=0;numberSpan=document.createElement("span");static get observedAttributes(){return["data-duration","data-number-start","data-number-end","data-unit","data-text"]}constructor(){super(),this.connectedCallback=this.connectedCallback.bind(this),this.tween=this.tween.bind(this),this.observerCallback=this.observerCallback.bind(this)}connectedCallback(){const t=this.attachShadow({mode:"open"}),e=document.createElement("span"),n=document.createElement("span"),a=document.createElement("span"),i=document.createElement("style"),s=["data-text","data-unit"].map((t=>this.getAttribute(t)||""));this.numberSpan.textContent="0",[a.textContent,n.textContent]=s,i.textContent="\n\t\thost:, * { margin:0;box-sizing:border-box; }\n\t\t#w {\n\t\t\talign-items:baseline;\n\t\t\tbackground:rgb(100%100%100%/5%);\n\t\t\tborder-radius:.3em;\n\t\t\tdisplay:grid;\n\t\t\tfont-weight:800;\n\t\t\tgap:.3em;\n\t\t\tgrid:auto-flow/auto 1fr;\n\t\t\tline-height:1;\n\t\t\toutline:1px solid;\n\t\t\tpadding:1.5em;\n\t\t\tmax-width:12em;\n\t\t}\n\t\t#w span:nth-child(1) {\n\t\t\tfont-size:2.75em;\n\t\t}\n\t\t#w span:nth-child(2) {\n\t\t\tfont-size:1.9em;\n\t\t}\n\t\t#w span:nth-child(3) {\n\t\t\tfont-size:.9em;\n\t\t\tfont-style:italic;\n\t\t\tfont-weight:400;\n\t\t\tgrid-column:1/span 2;\n\t\t\tline-height:1.3;\n\t\t\topacity:.9;\n\t\t}",t.replaceChildren(i,e),e.replaceChildren(this.numberSpan,n,a),e.id="w";new IntersectionObserver(this.observerCallback,{rootMargin:"0%",threshold:.5}).observe(e)}observerCallback(t){const e=t[0].isIntersecting;e!=this.isOnScreen&&(this.start=0,this.tween(),this.isOnScreen=e)}tween(){this.start||(this.start=Date.now());const t=Math.abs(parseInt(this.getAttribute("data-duration")||"800")),e=parseFloat(this.getAttribute("data-number-end")||"99"),n=parseFloat(this.getAttribute("data-number-start")||(Math.abs(e)>49?0:e>0?99:-99)),a=n+(e-n)*Math.min((Date.now()-this.start)/t,1),i=Math.min((`${e}`.split(".")[1]||"").length,2);this.numberSpan.textContent=a.toFixed(i),Date.now()-this.start<t&&e-Number(this.numberSpan.textContent)?window.requestAnimationFrame((()=>this.tween())):this.numberSpan.textContent=e.toFixed(i)}}customElements.define("scrolling-stat",ScrollingStat);export default ScrollingStat;