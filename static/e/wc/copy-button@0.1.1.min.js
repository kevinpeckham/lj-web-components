import{ComponentUtils as t}from"/e/wc/component-utils@0.1.1.min.js";class CopyButton extends HTMLElement{get c(){return CopyButton}static get attributes(){return{"color-accent":"lightblue","color-background":"transparent","color-primary":"currentColor","copy-mode":"text","message-text":"copied!","title-text":"copy",target:"","button-title":"copy to clipboard","size-width":"28px",stylesheet:""}}attValue(t){return this.getAttribute(t)??this.c.attributes[t]??""}get els(){const e=t.cssVars(this.c.attributes,this),o=t.stringIfValue,n=this.attValue("stylesheet"),i=this.attValue("message-text"),r=this.attValue("button-title");return`\n ${o(n,`<style id="stylesheet">${n}</style>`)}\n<button id="container" title="${r}" style="${e}">\n <div id="message">${i}</div>\n <svg id="icon" xmlns='http://www.w3.org/2000/svg' height='20' width='20' viewBox='0 0 24 24'>\n <path id="initial" d='M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2'/>\n <path id="success" d='M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2m-6 9 2 2 4-4'/>\n </svg>\n</button>`.trim()}static get styles(){return"\n <style>:host, * {box-sizing:border-box;margin:0}#container{background-color:var(--color-background, transparent);border:solid .1em color-mix(in srgb,currentColor 50%,transparent);color:var(--color-primary, currentColor);cursor:pointer;font-size:calc(var(--size-width, 1.5em) * .45);height:2.22em;opacity:.6;padding:.3em;position:relative;width:2.22em}#container:hover {opacity:1;color:var(--color-accent, currentColor) }#container, div {align-items:center;border-radius:.25em;display:flex;justify-content:center}#container div {background-color:color-mix(in srgb,var(--color-accent) 12%,black);color:currentColor;font-size:.8em;letter-spacing:.05em;opacity:0;padding:.15em .35em;position:absolute;top:120%;transition:opacity .15s;white-space:nowrap}svg {fill:none;height:auto;pointer-events:none;stroke:currentColor;stroke-width:1;width:100%}path {stroke-linecap:round;stroke-linejoin:round;transition:opacity .15s}#success {opacity:0}#container.success {opacity:1;color:var(--color-accent)}#container.success #success {opacity:1 }#container.success #message {opacity:1 }#container.success #initial {opacity:0 }#container.success #title {opacity:0;transition:opacity 0s 0s}</style>"}get template(){const t=document.createElement("template");return t.innerHTML=`${this.c.styles}${this.els}`.trim(),t}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot?.appendChild(this.template.content.cloneNode(!0));const t=this.attValue("target-selector")??"",e=this.attValue("copy-mode")??"text",o=this.shadowRoot?.getElementById("container"),n=this.shadowRoot?.getElementById("message"),i=this.shadowRoot?.getElementById("initial"),r=this.shadowRoot?.getElementById("success"),c=t?document.querySelector(t):null;let s;o?.addEventListener("click",(function(){s&&clearTimeout(s);if(!c)return;(function(){e&&e.toLowerCase();"html"===e?function(){if(!(c&&c instanceof HTMLElement))return;const t=c.outerHTML;navigator.clipboard.writeText(t).then((()=>{window.console.log("HTML content copied to clipboard")})).catch((t=>{window.console.error("Failed to copy HTML content: ",t)}))}():"rendered"===e?function(){const t=c;if(!(t&&t instanceof HTMLElement))return;const e=new Blob([t.outerHTML],{type:"text/html"}),o=new ClipboardItem({"text/html":e});navigator.clipboard.write([o]).then((()=>{window.console.log("rendered HTML content copied to clipboard")})).catch((t=>{window.console.error("Failed to copy rendered HTML content: ",t)}))}():function(){if(!(c&&c instanceof HTMLElement))return;const t=c.textContent;if(!t)return;navigator.clipboard.writeText(t).then((()=>{window.console.log("text content copied to clipboard")})).catch((t=>{window.console.error("text to copy HTML content: ",t)}))}()})(),i&&r&&n&&o?.classList.add("success"),s=setTimeout((()=>{i&&r&&n&&o?.classList.remove("success"),clearTimeout(s)}),1500)}))}}customElements.define("copy-button",CopyButton);export default CopyButton;