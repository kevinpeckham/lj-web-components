import{ComponentUtils as n}from"/e/wc/component-utils@0.1.1.min.js";class HomeBillboard extends HTMLElement{get c(){return HomeBillboard}#n=!1;static get attributes(){return{"border-bottom-color":"var(--color-primary)","border-bottom-size":"1px","border-bottom-opacity":"10%","color-accent":"lightblue","color-background":"transparent","color-primary":"currentColor","color-shadow":"black","flair-count":"30","flair-glyph":"&#9675;","flair-on":"true","font-family":"inherit","heading-font-weight":"900","heading-text":"","images-data":"[]","link-href":"","link-rel":"","link-text":"","link-title":"","link-url":"","paragraph-text":"",stylesheet:""}}static buildimageHTML(n){return n&&n?.url?`\n <img\n class="billboard-image flip-in"\n alt="${n?.alt}"\n draggable="false"\n height="600"\n loading="lazy"\n src="${n?.url}"\n style="left:${n?.left??"0"};top:${n?.top??"0"};width:${n?.width??"100%"}"\n width="600" />`:""}buildImagesHTML(){return(JSON.parse(this.attValue("images-data"))??[]).map((n=>this.c.buildimageHTML(n))).join("")}buildFlairHTML(){const n=this.c.randomInteger(5,95),t=this.c.calculateLeft(n),i=this.c.randomInteger(40,100),e=this.c.calculateOpacity(i),a=this.c.calculateScale(i),r=(.01*i).toFixed(2),o=(.01*i).toFixed(2),l=(.004*i).toFixed(2),s=`drop-shadow(${r}px 1px ${o}px ${`color-mix(in srgb, ${this.attValue("color-shadow")} ${100*Number(Number(l)?.toFixed(2)??".16")}%, transparent)`})`;return`\n <div\n class="flair"\n style="${`\n color: ${this.attValue("color-primary")??"currentColor"};\n left: ${t}%;\n top: ${n}%;\n opacity: ${e};\n pointer-events: auto;\n scale: ${a};\n filter: ${s};\n transform: translate(0em, 0em);\n transition-duration: 0.3s;\n transition-timing-function: ease-in-out;\n transition-delay: 0s;`}"\n role="presentation"\n aria-hidden="true">\n </div>`}static handleMouseEnter(n){const t=n.target instanceof HTMLDivElement?n.target:null;if(t){const n=t.style.scale;t.style.transitionDelay="0",t.style.transitionDuration="0.1s",t.style.pointerEvents="none",t.style.transitionTimingFunction="ease-out",t.style.scale="0.25",setTimeout((()=>{this.jump(t,n)}),300)}}static jump(n,t){n.style.transitionDelay="0",n.style.transitionDuration="0",n.style.transform=`translate(${this.randomInteger(-1,1)}em, ${this.randomInteger(-1,1)}em)`,n.style.transitionDuration="0.3",n.style.transitionDelay="0.2",n.style.pointerEvents="auto",n.style.transitionTimingFunction="ease-in",n.style.scale=t}buildFlairsHTML(){const n=this.attValue("flair-count"),t=n?Number(n):30;let i="";for(let n=0;n<t;n++)i+=this.buildFlairHTML();return i}buildGraphicHTML(){const t=n.stringIfValue,i=this.buildFlairsHTML(),e=this.buildImagesHTML();return`\n<div\n id="billboard-images"\n class="animation-reset"\n aria-hidden="true">\n <div id="base-circle"></div>\n ${t(i,i)}\n ${t(e,`<div id="images-container">${e}</div>`)}`.trim()}attValue(n){return this.getAttribute(n)??this.c.attributes[n]??""}get els(){const t=n.cssVars(this.c.attributes,this,["flair"]),i=this.attValue("flair-glyph"),e=this.buildGraphicHTML(),a=this.attValue("heading-text"),r=this.attValue("link-text"),o=this.attValue("link-url")??this.attValue("link-href"),l=this.attValue("link-rel"),s=this.attValue("link-title"),d=this.attValue("paragraph-text"),c=n.stringIfValue,m=this.innerText,p=this.attValue("stylesheet");return`\n${c(p,`<style id="stylesheet">${p}</style>`)}\n<div id="container" style="${t}--flair-glyph:'${i}'">\n <div id="container-inner">\n <div id="content-container">\n ${c(a,`<h1 id="heading">${a}</h1>`)}\n ${c(d,`<p id="paragraph">${d}</p>`)}\n ${c(r,`<a\n id="heading-link"\n ${c(l,`rel="${l}" `)}\n ${c(s,`title="${s}" `)}\n href="${o}">${r}</a>`,o)}\n </div>\n <div id="graphic-container">\n ${c(e,e)}\n ${c(m,`<slot id="slot">${m}</slot>`)}\n </div>\n </div>\n</div>`.trim()}static get styles(){return`\n${n.preflight}\n<style id="base">\n *:empty { display:none; }\n #container {\n background-color: var(--color-background);\n border-bottom: solid 1px lightgray;\n border-bottom: solid var(--border-bottom-size) color-mix(in srgb, var(--border-bottom-color) var(--border-bottom-opacity), transparent);\n color: var(--color-primary, darkblue);\n overflow:visible;\n }\n #container-inner {\n display: grid;\n grid-template-columns: repeat(1,minmax(0,1fr));\n place-items: center;\n height:auto;\n width:100%;\n }\n @media (min-width: 640px) {\n #container-inner {\n padding:0 16% 54px;\n }\n }\n @media (min-width: 768px) {\n #container-inner {\n padding:0 24% 96px;\n }\n }\n @media (min-width: 1024px) {\n #container-inner {\n column-gap:64px;\n grid-template-columns: repeat(2,minmax(0,1fr));\n padding:96px 64px;\n place-content:center;\n }\n }\n @media (min-width: 1280px) {\n #container-inner {\n padding:128px 80px;\n }\n }\n @media (min-width: 1536px) {\n #container-inner {\n padding:calc(60px + 4vw) 96px;\n }\n }\n #content-container {\n order:1;\n display:grid;\n grid-template-columns:repeat(1,minmax(0,1fr));\n place-items:center;\n place-content:center;\n }\n @media (min-width: 1024px) {\n #content-container {\n order:0;\n place-content:start;\n place-items:start;\n }\n}\n #heading {\n display:block;\n filter: drop-shadow(0 1px 1px rgba(0,0,0,.05));\n font-family: var(--font-family, inherit);\n font-weight:900;\n font-size:calc(1rem + 1vw);\n line-height:1.25;\n max-width:380px;\n padding:0 10% 3rem;\n text-align:center;\n text-transform:capitalize;\n }\n #heading-link {\n color: var(--color-primary, currentColor);\n display:block;\n font-size: .9rem;\n border: solid 1px var(--color-primary, currentColor);\n border-radius:.25rem;\n margin-bottom:.5rem;\n max-width: fit-content;\n padding:.35rem .85rem;\n transition-property:background-color,color;\n transition-duration: .15s;\n transition-timing-function: ease;\n }\n #heading-link:hover {\n background-color:var(--color-primary, currentColor);\n color:var(--color-background, currentColor);\n }\n @media (min-width: 640px) {\n #heading {\n font-size:1.5rem;\n padding:2rem 0 1rem;\n }\n }\n @media (min-width: 760px) {\n #heading {\n font-size:1.55rem;\n padding:1rem 0;\n }\n }\n @media (min-width: 1024px) {\n #heading {\n text-align:start;\n font-size:1.75rem;\n max-width:100%;\n }\n }\n @media (min-width: 1536px) {\n #heading {\n font-size:calc(1.5rem + .5vw);\n }\n }\n #paragraph {\n display:none;\n font-weight:500;\n margin-bottom:1.5rem;\n opacity:.95;\n text-align:center;\n }\n @media (min-width: 640px) {\n #paragraph {\n display:block;\n }\n }\n @media (min-width: 1024px) {\n #paragraph {\n text-align:start;\n }\n }\n @media (min-width: 1536px) {\n #paragraph {\n font-size: calc(.8rem + .3vw);\n }\n }\n #link-container {\n display:flex;\n justify-content:center;\n }\n @media (min-width: 1024px) {\n #link-container {\n justify-content:start;\n }\n }\n #graphic-container {\n background-color:rgb(10 46 126 / 0%);\n user-select:none;\n aspect-ratio:1;\n order:0;\n width:100%;\n }\n @media (min-width: 1024px) {\n #graphic-container {\n order:0;\n }\n}\n @media (min-width: 1536px) {\n #graphic-container {\n width:calc(60% + 10vw);\n }\n}\n#billboard-images {\n aspect-ratio:1;\n display:flex;\n justify-content:center;\n overflow:visible;\n position:relative;\n user-select:none;\n width:100%;\n}\n@media (min-width: 640px) {\n #billboard-images {\n display:block;\n }\n}\n@media (min-width: 768px) {\n #billboard-images {\n font-size:11px;\n max-width:32rem;\n }\n}\n@media (min-width: 1024px) {\n #billboard-images {\n align-items:center;\n font-size:16px;\n max-width:none;\n width:100%;\n }\n}\n#billboard-images #base-circle {\n aspect-ratio:1;\n align-items:center;\n background-color:transparent;\n display:flex;\n filter:drop-shadow(0 1px 2px rgb(0 0 0 / .1));\n height:auto;\n justify-content:center;\n opacity:1;\n transition: opacity 0.3s ease-in;\n position:relative;\n width:100%;\n}\n#billboard-images #base-circle::after {\n aspect-ratio:1;\n background-color:var(--color-accent, lightblue);\n content:"";\n position:absolute;\n border-radius: 9999px;\n width:50%;\n}\n#billboard-images.animation-reset #base-circle {\n opacity:0;\n}\n#billboard-images .billboard-image {\n aspect-ratio:1;\n box-shadow: 0 4px 6px -1px color-mix(in srgb, rgb(11 46 126) 40%, transparent), 0 2px 4px -2px color-mix(in srgb, rgb(11 46 126) 10%, transparent);\n border-radius: 9999px;\n background: transparent;\n display:flex;\n font-size: 10px;\n items-align:center;\n justify-content:center;\n overflow-clip-margin: content-box;\n overflow-x: clip;\n overflow-y: clip;\n position:absolute;\n scale: 1;\n transition-duration: 0.3s;\n transition-property: transform, scale;\n transition-timing-function: ease-out;\n transform: rotate3d(0, 0, 0, 0);\n opacity: 1;\n}\n@supports not (box-shadow: color-mix(in srgb, rgb(11 46 126) 40%)) {\n #billboard-images .billboard-image { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, .4) }\n}\n#billboard-images .billboard-image:hover {\n transform: scale(1.1);\n}\n#billboard-images.animation-reset .billboard-image {\n transform: rotate3d(0, 0, 0, 0);\n scale: 0;\n}\n/* flip-in-xy */\n#billboard-images.animation-reset .billboard-image.flip-in:first-child,\n#billboard-images.animation-reset .billboard-image.flip-in:nth-child(4) {\n transform: rotate3d(1, 1, 0, 1turn);\n}\n/* flip-in-y */\n#billboard-images.animation-reset .billboard-image.flip-in:nth-child(2){\n transform: rotate3d(0, 1, 0, 1turn);\n}\n/* flip-in-x */\n#billboard-images.animation-reset .billboard-image.flip-in:nth-child(3),\n#billboard-images.animation-reset .billboard-image.flip-in:nth-child(5) {\n transform: rotate3d(1, 0, 0, 1turn);\n}\n#billboard-images.animation-reset .billboard-image.spin-in {\n transform: rotate3d(0, 0, 1, 1turn);\n}\n#billboard-images .flair {\n align-items: center;\n aspect-ratio: 1 / 1;\n border-radius: 50%;\n font-size: 2em;\n font-weight: 600;\n justify-items: center;\n line-height: 1;\n position: absolute;\n text-align: center;\n transform-origin: center;\n transition-duration: 3s;\n transition-timing-function: ease-out;\n transition-property: scale, opacity;\n}\n#billboard-images .flair::after {\n background-clip: text;\n background-size: 100%;\n border-radius: 50%;\n content: var(--flair-glyph, "â—‹");\n display: flex;\n justify-content: center;\n align-items: center;\n vertical-align: middle;\n opacity:0;\n pointer-events: none;\n transition: opacity 0.3s ease-in;\n line-height: 1;\n}\n@media (min-width: 640px) {\n #billboard-images .flair::after { opacity:1; }\n}\n#billboard-images.animation-reset .flair {\n scale: 0;\n opacity: 0!important;\n}\n</style>`}get template(){const n=document.createElement("template");return n.innerHTML=`${this.c.styles}${this.els}`.trim(),n}constructor(){super(),this.attachShadow({mode:"open"}),this.observerCallback=this.observerCallback.bind(this)}connectedCallback(){this.shadowRoot?.appendChild(this.template.content.cloneNode(!0));const n=this.shadowRoot?.querySelectorAll(".flair"),t=this.shadowRoot?.getElementById("container");n?.forEach((n=>{const t=n instanceof HTMLDivElement?n:null;t?.addEventListener("mouseenter",(n=>{this.c.handleMouseEnter(n)}))}));const i=new IntersectionObserver(this.observerCallback,{rootMargin:"0%",threshold:.5});t&&i.observe(t)}static randomInteger(n,t){return Math.floor(Math.random()*(t-n+1))+n}static calculateLeft(n){if(n<24||n>72)return this.randomInteger(5,95);{const n=this.randomInteger(0,1);if(0==n)return this.randomInteger(5,20);if(1==n)return this.randomInteger(80,90)}return 0}static calculateOpacity(n,t,i){t=t??0,i=i??1;const e=.01*(n=n||0);return Number((e<t?t:e>i?i:e).toFixed(2))}static calculateScale(n,t,i){n=n||0,t=t??0,i=i??1;const e=Number((.01*n).toFixed(2));return e>i?i:e<t?t:e}get isOnScreen(){return this.#n}set isOnScreen(n){const t=this.shadowRoot?.getElementById("billboard-images");"boolean"==typeof n&&(this.#n=n),!0===n?t?.classList.remove("animation-reset"):t?.classList.add("animation-reset")}observerCallback(n){const t=n[0].isIntersecting;t!=this.isOnScreen&&(this.isOnScreen=t)}}customElements.define("home-billboard",HomeBillboard);export default HomeBillboard;