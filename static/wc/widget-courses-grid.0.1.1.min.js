import{ComponentUtils as n}from"/wc/component-utils.0.1.1.min.js";class WidgetCoursesGrid extends HTMLElement{get c(){return WidgetCoursesGrid}static buildIcon(n){return`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" style="width:100%;height:auto"><path d="${n}" fill-rule="evenodd" fill="currentColor"/></svg>`}static get courseIconPath(){return"M88.929 0a8 8 0 0 1 8 8v84a8 8 0 0 1-8 8h-75.07a8 8 0 0 1-8-8V26.338l.22-.226v-.228l4.714-4.606L31.539 0h57.391zm0 8H34.583l.001 21H12.929v64h76V8zM68.5 72a3.5 3.5 0 1 1 0 7h-41a3.5 3.5 0 1 1 0-7h41zm7-17a3.5 3.5 0 1 1 0 7h-48a3.5 3.5 0 1 1 0-7h48zM71 17a8 8 0 0 1 8 8v12a8 8 0 0 1-8 8H59a8 8 0 0 1-8-8V25a8 8 0 0 1 8-8h12zm1 7H59a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V25a1 1 0 0 0-1-1zm-44.435-8.689l-6.528 6.143h6.528v-6.143z"}static get moduleIconPath(){return"M97 11a2 2 0 0 1 2 2v74a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V13a2 2 0 0 1 2-2h94zm-19 5H23v69h55V16zM18 70H6.5v13.5H18V70zm76.5 0H83v13.5h11.5V70zm0-18H83v13.5h11.5V52zM18 52H6.5v13H18V52zm26.395-15.657a3 3 0 0 1 1.562.438l17.265 10.525a3 3 0 0 1 .065 5.082L46.022 63.534a3 3 0 0 1-4.627-2.52V39.343a3 3 0 0 1 3-3zm2.06 6.579v13.786l10.466-6.893-10.466-6.893zM18 34H6.5v13H18V34zm76.5 0H83v13h11.5V34zm0-18H83v13h11.5V16zM18 16H6.5v12.5H18V16z"}static getIcon(n){switch(n){case"Course":default:return this.buildIcon(this.courseIconPath);case"Module":return this.buildIcon(this.moduleIconPath)}}static get attributes(){return{"body-text":"","body-font-size":"1rem","body-line-height":"1.33","body-margin-bottom":"1rem","card-background-color":"transparent","card-border-radius":".35rem","card-box-shadow":"none","card-button-border-radius":".35rem","card-button-font-size":".8rem","card-button-padding":".45rem 1rem","card-hover-background-color":"","card-hover-box-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","card-max-width":"100%","card-meta-font-size":".8rem","card-meta-line-height":"1.33","card-min-height":"280px","card-padding":"1rem","card-title-font-size":".95rem","card-title-font-weight":"600","card-title-line-height":"1.33","card-title-margin-bottom":"1rem","color-accent":"lightblue","color-background":"#F8FAFC","color-primary":"currentColor","courses-data-json":"[]","font-family":"inherit","heading-font-size":"1.5rem","heading-font-weight":"700","heading-line-height":"1.25","heading-margin-bottom":"1.5rem","heading-text":"","link-url":"","link-label":"","link-target":"","link-rel":"","meta-font-size":".85rem","meta-margin-bottom":"1.25rem","meta-text":"",stylesheet:"","show-disciplines":"true","show-format":"true","show-level":"true","show-price":"false","show-tags":"false",tags:""}}static get observedAttributes(){return Object.keys(this.attributes)}static getDefault(n){return this.attributes[n]??""}getTags(n){const t=this.attValue("tags").split(",").map((n=>n.trim())),e=n?.title+" "+n?.disciplines?.join(" ");return t.filter((n=>e.toLowerCase().includes(n.toLowerCase())))}static hasValue=n=>!(!n||!n[0]);static htmlIfValue=(n,t,e)=>this.hasValue(n)&&(e||void 0===e)?t:"";buildTile(n){const t=this.c.getIcon(n?.type??"Course"),e=this.getTags(n),{disciplines:i,duration:a,formats:r,level:o,price:d,linkRel:s,linkTarget:l,linkUrl:m,title:c,type:h}=n,p="false"!=this.attValue("show-disciplines"),g="false"!=this.attValue("show-duration"),u="false"!=this.attValue("show-tags"),v="false"!=this.attValue("show-price"),x=this.c.htmlIfValue;return`\n <div class="course-outer">\n <a class="course" ${l?`target="${l}"`:'target="_self"'} ${s?`rel="${s}"`:""} href="${m}" title="go to course page">\n ${x(h,`<div class="type-container"><div class="type-icon">${t}</div><div class="type">${h}</div></div>`)}\n ${x(c,`<h3 class="title" >${c?.replace("and","&")}</h3>`)}\n ${x(r,`<div class="meta-row"><div class="meta label">Format:</div><div class="meta formats">${r?.join(", ")}</div></div>`)}\n ${x(o,`<div class="meta-row"><div class="meta label">Level:</div><div class="meta level">${o}</div></div>`)}\n ${x(i,`<div class="meta-row"><div class="meta label">Discipline:</div><div class="meta disciplines">${i?.join(", ")}</div></div>`,p)}\n ${x(a,`<div class="meta-row"><div class="meta label">Duration:</div><div class="meta duration">${a}</div></div>`,g)}\n ${x(e,`<div class="tags meta-row">${e.map((n=>`<div class="tag">${n}</div>`)).join("")}</div>`,u)}\n ${x(d,`<div class="meta price${d}</div>`,v)}\n <div class="link-button">Learn More</div>\n </a>\n </div>`}buildGridHTML(){let n="";return JSON.parse(this.attValue("courses-data-json")??"[]").forEach((t=>n+=this.buildTile(t))),n||""}attValue(n){return this.getAttribute(n)??this.c.attributes[n]??""}get els(){const n=Object.keys(this.c.attributes).filter((n=>!(n.includes("stylesheet")||n.includes("text")||n.includes("show")||n.includes("data")||n.includes("link")))).map((n=>`--${n}: ${this.attValue(n)};`)).join("\n"),t=this.c.htmlIfValue;return`\n<style id="stylesheet">${this.attValue("stylesheet")}</style>\n<div id="container" style="${n}><div id="container-inner">\n ${t("meta-text",`<div id="meta" style="">${this.attValue("meta-text")}</div>`)}\n <div id="heading-row">\n ${t("heading-text",`<h2 id="heading">${this.attValue("heading-text")}</h2>`)}\n ${t("link-url",`<a href="${this.attValue("link-url")}" id="link">${this.attValue("link-label")}</a>`)}\n </div>\n ${t("body-text",`<p id="text">${this.attValue("body-text")}</p>`)}\n <div id="grid">${this.buildGridHTML()}</div>\n </div>\n</div>`.trim()}static get styles(){const t=n.pageXPadding;return`\n ${n.preflight}\n <style id="base">\n #container {\n background-color: var(--color-background);\n color: var(--color-primary);\n display:grid;\n align-items:start;\n padding:64px ${t.xxs} 96px;\n max-width:100%;\n }\n @media (min-width: 420px) {\n #container {\n padding:64px ${t.xs} 96px;\n }\n }\n @media (min-width: 640px) {\n #container {\n padding:64px ${t.sm} 96px;\n }\n }\n @media (min-width: 760px) {\n #container {\n padding:64px ${t.md} 96px;\n }\n }\n @media (min-width: 1024px) {\n #container {\n padding:48px ${t.lg} 76px;\n }\n }\n @media (min-width: 1280px) {\n #container {\n padding:64px ${t.xl} 96px;\n }\n }\n @media (min-width: 1536px) {\n #container {\n padding:64px ${t["2xl"]} 96px;\n }\n }\n #meta {\n color: var(--color-accent, currentColor);\n font-size: var(--font-size, .85rem);\n margin-bottom: var(--margin-bottom, 1.5rem);\n opacity:1;\n text-transform:uppercase;\n }\n #heading-row:empty { display: none; }\n #heading {\n color: inherit;\n filer:drop-shadow(0 1px 1px rgba(0, 0, 0, .05));\n font-size: 1.25rem;\n font-weight: var(--heading-font-weight, bold);\n line-height:1.25;\n margin-bottom: .5rem;\n max-width:576px;\n }\n @media (min-width: 640px) {\n #heading {\n font-size: 1.5rem;\n margin-bottom: .75rem;\n }\n }\n @media (min-width: 768px) {\n #heading {\n font-size: 1.5em;\n margin-bottom: .825rem;\n }\n }\n @media (min-width: 1024px) {\n #heading {\n font-size: 1.75em;\n }\n }\n #text {\n color: inherit;\n display:block;\n max-width:none;\n margin-bottom:2rem;\n opacity:.9;\n }\n @media (min-width: 640px) {\n #text {\n padding:0;\n margin-bottom:48px;\n }\n }\n @media (min-width: 768px) {\n #text {\n max-width:576px;\n padding:0;\n margin-bottom:48px;\n }\n }\n @media (min-width: 1024px) {\n #text {\n max-width:576px;\n margin-bottom:56px;\n }\n }\n @media (min-width: 1280px) {\n #text {\n max-width:576px;\n margin-bottom:64px;\n }\n }\n #grid {\n display:grid;\n grid-template-columns:repeat(1, minmax(0, 1fr));\n gap:1rem;\n place-items:start stretch;\n width:auto;\n }\n @media (min-width: 640px) {\n #grid {\n grid-template-columns: repeat(2, minmax(0, 1fr));\n }\n }\n @media (min-width: 720px) {\n #grid {\n gap:1.25rem;\n grid-template-columns: repeat(2, minmax(0, 1fr));\n }\n }\n @media (min-width: 1024px) {\n #grid {\n column-gap:24px;\n grid-template-columns: repeat(3,minmax(0,1fr));\n place-content:center;\n }\n }\n @media (min-width: 1280px) {\n #grid {\n column-gap:32px;\n grid-template-columns: repeat(4,minmax(0,1fr));\n }\n }\n @media (min-width: 1536px) {\n #grid {\n column-gap:48px;\n grid-template-columns: repeat(5,minmax(0,1fr));\n }\n }\n .course {\n background-color: var(--card-background-color, white);\n border: solid .5px color-mix(in srgb, var(--color-primary, lightblue) 30%, transparent);\n border-radius: var(--card-border-radius, .35rem);\n box-shadow: var(--card-box-shadow, none);\n display:block;\n min-height: var(--card-min-height, auto);\n overflow:visible;\n padding: var(--card-padding, 1rem);\n position: relative;\n transition: background-color .2s ease-in-out, box-shadow .2s ease-in-out;\n width:100%;\n }\n .course:hover {\n background-color: var(--card-hover-background-color, var(--color-background));\n box-shadow: var(--card-hover-box-shadow, 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1));\n }\n .course .type-container {\n align-items:center;\n background-color:white;\n border-radius:.35rem;\n display:flex;\n margin-bottom:1rem;\n max-width:fit-content;\n padding:.25rem .5rem;\n }\n .course .type-icon {\n max-width:1rem;\n }\n .course .type {\n color:var(--color-primary);\n font-size:.85rem;\n font-weight:400;\n margin-left:.5rem;\n max-width:fit-content;\n }\n .course .title {\n font-weight:var(--card-title-font-weight, 600);\n font-size:var(--card-title-font-size, .9rem);\n line-height:var(--card-title-line-height, 1.25);\n margin-bottom:var(--card-title-margin-bottom, 1rem);\n overflow: hidden;\n display: -webkit-box;\n -webkit-box-orient: vertical;\n -webkit-line-clamp: 3;\n }\n .course .meta {\n font-size: .85rem;\n }\n .course .meta.disciplines {\n overflow:hidden;\n text-overflow:ellipsis;\n white-space:nowrap;\n }\n .course .meta-row {\n display:flex;\n justify-content:start;\n }\n .course .meta.label {\n font-weight:500;\n margin-right:.5rem;\n min-width:fit-content;\n }\n .course .tags {\n position:absolute;\n left:1rem;\n bottom:1rem;\n }\n .course .tag {\n border: solid 1px var(--color-primary);\n border-radius:.35rem;\n font-size: .75rem;\n font-style: italic;\n font-weight: 500;\n margin-right:.5em;\n padding: .25em .25em;\n background-color: color-mix(in srgb, var(--color-primary) 5%, transparent);\n /*color: white;*/\n }\n .course .link-button {\n background-color: var(--color-primary);\n border: solid 1px var(--color-primary);\n border-radius: .35em;\n bottom: 2rem;\n color: white;\n font-size:.8rem;\n padding: .4rem .85rem;\n position:absolute;\n pointer-events:none;\n transition:opacity .2s ease-in-out;\n right: 2rem;\n }\n .course:hover .link-button {\n pointer-events:auto;\n }\n @media (min-width: 640px) {\n .course .link-button {\n opacity: 0;\n }\n .course:hover .link-button {\n opacity:1;\n }\n .course:hover .tags {\n opacity:0;\n }\n }\n</style>`.trim()}get template(){const n=document.createElement("template");return n.innerHTML=`${this.c.styles}${this.els}`.trim(),n}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot?.appendChild(this.template.content.cloneNode(!0))}}customElements.define("widget-courses-grid",WidgetCoursesGrid);export default WidgetCoursesGrid;